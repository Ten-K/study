<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			function _const(key, value) {
				window[key] = value
				Object.defineProperty(window, key, {
					configurable: false,
					enumerable: false,
					get() {
						return value
					},
					set(newValue) {
						if (value !== newValue) {
							throw new Error('只读属性不能修改')
						} else {
							return value
						}
					}
				})
			}

			_const('p', {
				name: 'Tom'
			})

			console.log(p)
			p.name = 'Jack' //p是一个对象引用，并没有改变
			console.log(p)
			//抛出语法错误
			p = {
				name: 'Alice'
			}
		</script>
	</body>
</html>
